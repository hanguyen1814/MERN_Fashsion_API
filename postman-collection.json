{
    "info": {
        "name": "MERN Fashion Store API",
        "description": "API REST cho hệ thống thương mại điện tử thời trang",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
        "version": "1.0.0"
    },
    "variable": [
        {
            "key": "baseUrl",
            "value": "http://localhost:4000/api",
            "type": "string"
        },
        {
            "key": "accessToken",
            "value": "",
            "type": "string"
        },
        {
            "key": "refreshToken",
            "value": "",
            "type": "string"
        }
    ],
    "auth": {
        "type": "bearer",
        "bearer": [
            {
                "key": "token",
                "value": "{{accessToken}}",
                "type": "string"
            }
        ]
    },
    "item": [
        {
            "name": "Authentication",
            "item": [
                {
                    "name": "Register",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"fullName\": \"Nguyễn Văn A\",\n  \"email\": \"user@example.com\",\n  \"password\": \"Password123\",\n  \"phone\": \"0123456789\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "register"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Login",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.status && response.data) {",
                                    "        pm.collectionVariables.set('accessToken', response.data.accessToken);",
                                    "        pm.collectionVariables.set('refreshToken', response.data.refreshToken);",
                                    "        console.log('Tokens saved to collection variables');",
                                    "    }",
                                    "}"
                                ]
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"Password123\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Refresh Token",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/refresh",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "refresh"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Logout",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/logout",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "logout"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Users",
            "item": [
                {
                    "name": "Get All Users (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/users?page=1&limit=10&role=customer&status=active",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                },
                                {
                                    "key": "role",
                                    "value": "customer"
                                },
                                {
                                    "key": "status",
                                    "value": "active"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get My Profile",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/users/profile/me",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "profile",
                                "me"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Update My Profile",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"fullName\": \"Nguyễn Văn B\",\n  \"phone\": \"0987654321\",\n  \"avatarUrl\": \"https://example.com/new-avatar.jpg\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/users/profile/me",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "profile",
                                "me"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Change Password",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"currentPassword\": \"Password123\",\n  \"newPassword\": \"NewPassword123\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/users/password/change",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "password",
                                "change"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Manage Address - Add",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"action\": \"add\",\n  \"address\": {\n    \"fullName\": \"Nguyễn Văn A\",\n    \"phone\": \"0123456789\",\n    \"street\": \"123 Đường ABC\",\n    \"ward\": \"Phường XYZ\",\n    \"district\": \"Quận 1\",\n    \"province\": \"TP.HCM\",\n    \"isDefault\": false\n  }\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/users/addresses/manage",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "addresses",
                                "manage"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get User Stats (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/users/stats",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "stats"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Products",
            "item": [
                {
                    "name": "Get Products List",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/products?page=1&limit=20&sort=createdAt&order=desc",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "20"
                                },
                                {
                                    "key": "sort",
                                    "value": "createdAt"
                                },
                                {
                                    "key": "order",
                                    "value": "desc"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Search Products",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/products/search?q=áo thun&min=100000&max=500000&inStock=true",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products",
                                "search"
                            ],
                            "query": [
                                {
                                    "key": "q",
                                    "value": "áo thun"
                                },
                                {
                                    "key": "min",
                                    "value": "100000"
                                },
                                {
                                    "key": "max",
                                    "value": "500000"
                                },
                                {
                                    "key": "inStock",
                                    "value": "true"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Advanced Search",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/products/search-advanced?q=áo thun&min=100000&max=500000&color=đỏ&size=M&rating=4&sort=relevance",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products",
                                "search-advanced"
                            ],
                            "query": [
                                {
                                    "key": "q",
                                    "value": "áo thun"
                                },
                                {
                                    "key": "min",
                                    "value": "100000"
                                },
                                {
                                    "key": "max",
                                    "value": "500000"
                                },
                                {
                                    "key": "color",
                                    "value": "đỏ"
                                },
                                {
                                    "key": "size",
                                    "value": "M"
                                },
                                {
                                    "key": "rating",
                                    "value": "4"
                                },
                                {
                                    "key": "sort",
                                    "value": "relevance"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Product Suggestions",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/products/suggest?q=áo&limit=10",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products",
                                "suggest"
                            ],
                            "query": [
                                {
                                    "key": "q",
                                    "value": "áo"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Product by Slug",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/products/ao-thun-nam",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products",
                                "ao-thun-nam"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Product by ID",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/products/id/64f1a2b3c4d5e6f7a8b9c0d1",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products",
                                "id",
                                "64f1a2b3c4d5e6f7a8b9c0d1"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Related Products",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/products/related?slug=ao-thun-nam&limit=8",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products",
                                "related"
                            ],
                            "query": [
                                {
                                    "key": "slug",
                                    "value": "ao-thun-nam"
                                },
                                {
                                    "key": "limit",
                                    "value": "8"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Product Stats",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/products/stats",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products",
                                "stats"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Product (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Áo thun nam mới\",\n  \"slug\": \"ao-thun-nam-moi\",\n  \"description\": \"Áo thun nam chất liệu cotton cao cấp\",\n  \"brandId\": \"64f1a2b3c4d5e6f7a8b9c0d1\",\n  \"categoryIds\": [\"64f1a2b3c4d5e6f7a8b9c0d2\"],\n  \"tags\": [\"hot\", \"new\"],\n  \"image\": \"https://example.com/product.jpg\",\n  \"variants\": [\n    {\n      \"sku\": \"ATN-RED-M\",\n      \"color\": \"đỏ\",\n      \"size\": \"M\",\n      \"price\": 250000,\n      \"compareAtPrice\": 300000,\n      \"stock\": 50,\n      \"image\": \"https://example.com/variant1.jpg\"\n    }\n  ],\n  \"status\": \"active\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/products",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Categories",
            "item": [
                {
                    "name": "Get Categories",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/categories",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "categories"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Category (Admin/Staff)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Áo thun\",\n  \"slug\": \"ao-thun\",\n  \"description\": \"Danh mục áo thun nam nữ\",\n  \"parentId\": null,\n  \"image\": \"https://example.com/category.jpg\",\n  \"status\": \"active\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/categories",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "categories"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Update Category (Admin/Staff)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Áo thun Updated\",\n  \"slug\": \"ao-thun-updated\",\n  \"description\": \"Danh mục áo thun nam nữ - Updated\",\n  \"parentId\": null,\n  \"image\": \"https://example.com/category-new.jpg\",\n  \"status\": \"active\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/categories/64f1a2b3c4d5e6f7a8b9c0d1",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "categories",
                                "64f1a2b3c4d5e6f7a8b9c0d1"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Delete Category (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/categories/64f1a2b3c4d5e6f7a8b9c0d1",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "categories",
                                "64f1a2b3c4d5e6f7a8b9c0d1"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Brands",
            "item": [
                {
                    "name": "Get Brands",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/brands",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "brands"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Brand (Admin/Staff)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Nike\",\n  \"slug\": \"nike\",\n  \"description\": \"Just Do It\",\n  \"logo\": \"https://example.com/nike-logo.png\",\n  \"status\": \"active\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/brands",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "brands"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Update Brand (Admin/Staff)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"Nike Updated\",\n  \"slug\": \"nike-updated\",\n  \"description\": \"Just Do It - Updated\",\n  \"logo\": \"https://example.com/nike-logo-new.png\",\n  \"status\": \"active\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/brands/64f1a2b3c4d5e6f7a8b9c0d1",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "brands",
                                "64f1a2b3c4d5e6f7a8b9c0d1"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Delete Brand (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/brands/64f1a2b3c4d5e6f7a8b9c0d1",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "brands",
                                "64f1a2b3c4d5e6f7a8b9c0d1"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Cart",
            "item": [
                {
                    "name": "Get My Cart",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/cart",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "cart"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Add Item to Cart",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"productId\": \"64f1a2b3c4d5e6f7a8b9c0d1\",\n  \"sku\": \"ATN-RED-M\",\n  \"quantity\": 2\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/cart/items",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "cart",
                                "items"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Update Cart Item (by SKU)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"sku\": \"ATN-RED-M\",\n  \"quantity\": 3\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/cart/items",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "cart",
                                "items"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Update Cart Item (change variant)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"productId\": \"64f1a2b3c4d5e6f7a8b9c0d1\",\n  \"sku\": \"ATN-RED-M\",\n  \"newSku\": \"ATN-BLUE-L\",\n  \"quantity\": 2\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/cart/items",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "cart",
                                "items"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Clear Cart",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/cart",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "cart"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Orders",
            "item": [
                {
                    "name": "Get My Orders",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/orders",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Checkout from Cart",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"fullName\": \"Nguyễn Văn A\",\n  \"phone\": \"0123456789\",\n  \"street\": \"123 Đường ABC\",\n  \"ward\": \"Phường XYZ\",\n  \"district\": \"Quận 1\",\n  \"province\": \"TP.HCM\",\n  \"method\": \"cod\",\n  \"provider\": null\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/orders/checkout",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders",
                                "checkout"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Checkout Direct",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"items\": [\n    {\n      \"productId\": \"64f1a2b3c4d5e6f7a8b9c0d1\",\n      \"sku\": \"ATN-RED-M\",\n      \"quantity\": 2\n    }\n  ],\n  \"fullName\": \"Nguyễn Văn A\",\n  \"phone\": \"0123456789\",\n  \"street\": \"123 Đường ABC\",\n  \"ward\": \"Phường XYZ\",\n  \"district\": \"Quận 1\",\n  \"province\": \"TP.HCM\",\n  \"method\": \"momo\",\n  \"provider\": \"momo\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/orders/checkout-direct",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders",
                                "checkout-direct"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Update Order Status (Staff/Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "PATCH",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"status\": \"processing\",\n  \"note\": \"Đã xác nhận thanh toán\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/orders/ORD-20230901-001/status",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders",
                                "ORD-20230901-001",
                                "status"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get All Orders (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/orders/admin?page=1&limit=20&status=pending&sort=createdAt&order=desc",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders",
                                "admin"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "20"
                                },
                                {
                                    "key": "status",
                                    "value": "pending"
                                },
                                {
                                    "key": "sort",
                                    "value": "createdAt"
                                },
                                {
                                    "key": "order",
                                    "value": "desc"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Order Details (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/orders/admin/64f1a2b3c4d5e6f7a8b9c0d1",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders",
                                "admin",
                                "64f1a2b3c4d5e6f7a8b9c0d1"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Order Stats (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/orders/admin/stats?period=7d&status=all",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders",
                                "admin",
                                "stats"
                            ],
                            "query": [
                                {
                                    "key": "period",
                                    "value": "7d"
                                },
                                {
                                    "key": "status",
                                    "value": "all"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Export Orders (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/orders/admin/export?format=csv&status=all&startDate=2023-09-01&endDate=2023-09-30",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders",
                                "admin",
                                "export"
                            ],
                            "query": [
                                {
                                    "key": "format",
                                    "value": "csv"
                                },
                                {
                                    "key": "status",
                                    "value": "all"
                                },
                                {
                                    "key": "startDate",
                                    "value": "2023-09-01"
                                },
                                {
                                    "key": "endDate",
                                    "value": "2023-09-30"
                                }
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Payments",
            "item": [
                {
                    "name": "Create MoMo Payment",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"orderId\": \"ORD-20230901-001\",\n  \"userInfo\": {\n    \"fullName\": \"Nguyễn Văn A\",\n    \"email\": \"user@example.com\",\n    \"phone\": \"0123456789\"\n  },\n  \"items\": [\n    {\n      \"productId\": \"64f1a2b3c4d5e6f7a8b9c0d1\",\n      \"name\": \"Áo thun nam\",\n      \"price\": 250000,\n      \"quantity\": 2\n    }\n  ]\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/payments/momo/create",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "payments",
                                "momo",
                                "create"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Check MoMo Payment Status",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/payments/momo/status/ORD-20230901-001",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "payments",
                                "momo",
                                "status",
                                "ORD-20230901-001"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "MoMo Webhook",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"resultCode\": 0,\n  \"message\": \"Success\",\n  \"orderId\": \"ORD-20230901-001\",\n  \"transId\": \"123456789\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/payments/momo/webhook",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "payments",
                                "momo",
                                "webhook"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Reviews",
            "item": [
                {
                    "name": "Get Reviews by Product",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/reviews/product/64f1a2b3c4d5e6f7a8b9c0d1",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "reviews",
                                "product",
                                "64f1a2b3c4d5e6f7a8b9c0d1"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Create Review",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"productId\": \"64f1a2b3c4d5e6f7a8b9c0d1\",\n  \"rating\": 5,\n  \"content\": \"Sản phẩm rất tốt, chất lượng cao. Tôi rất hài lòng với việc mua sắm này.\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/reviews",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "reviews"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Wishlist",
            "item": [
                {
                    "name": "Get My Wishlist",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/wishlist",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "wishlist"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Toggle Wishlist Item",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"productId\": \"64f1a2b3c4d5e6f7a8b9c0d1\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/wishlist/toggle",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "wishlist",
                                "toggle"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "CSP Violations (Admin Only)",
            "item": [
                {
                    "name": "Get CSP Violations",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/csp/violations?page=1&limit=10&status=new&severity=critical",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "csp",
                                "violations"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                },
                                {
                                    "key": "status",
                                    "value": "new"
                                },
                                {
                                    "key": "severity",
                                    "value": "critical"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get CSP Stats",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/csp/stats?period=7d",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "csp",
                                "stats"
                            ],
                            "query": [
                                {
                                    "key": "period",
                                    "value": "7d"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Resolve CSP Violation",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"notes\": \"Đã thêm domain vào whitelist CSP\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/csp/violations/64f1a2b3c4d5e6f7a8b9c0d1/resolve",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "csp",
                                "violations",
                                "64f1a2b3c4d5e6f7a8b9c0d1",
                                "resolve"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Upload (Admin/Staff Only)",
            "item": [
                {
                    "name": "Upload Single Image",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "image",
                                    "type": "file",
                                    "src": []
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{baseUrl}}/upload/single",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "upload",
                                "single"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Upload Multiple Images",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "images",
                                    "type": "file",
                                    "src": []
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{baseUrl}}/upload/multiple",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "upload",
                                "multiple"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Upload Product Images",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "productId",
                                    "value": "",
                                    "type": "text"
                                },
                                {
                                    "key": "mainImage",
                                    "type": "file",
                                    "src": []
                                },
                                {
                                    "key": "galleryImages",
                                    "type": "file",
                                    "src": []
                                },
                                {
                                    "key": "thumbnailImage",
                                    "type": "file",
                                    "src": []
                                },
                                {
                                    "key": "variantImages",
                                    "type": "file",
                                    "src": []
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{baseUrl}}/upload/product",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "upload",
                                "product"
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Delete Image",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/upload/products%2Fabc123?resourceType=image",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "upload",
                                "products/abc123"
                            ],
                            "query": [
                                {
                                    "key": "resourceType",
                                    "value": "image"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Delete Multiple Images",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"publicIds\": [\n    \"products/abc123\",\n    \"products/def456\",\n    \"products/ghi789\"\n  ]\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/upload/multiple?resourceType=image",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "upload",
                                "multiple"
                            ],
                            "query": [
                                {
                                    "key": "resourceType",
                                    "value": "image"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Get Transformed URL",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/upload/transform/products%2Fabc123?width=400&height=400&crop=fill",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "upload",
                                "transform",
                                "products/abc123"
                            ],
                            "query": [
                                {
                                    "key": "width",
                                    "value": "400"
                                },
                                {
                                    "key": "height",
                                    "value": "400"
                                },
                                {
                                    "key": "crop",
                                    "value": "fill"
                                }
                            ]
                        }
                    },
                    "response": []
                },
                {
                    "name": "Generate Upload Signature",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{accessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"folder\": \"products\",\n  \"tags\": [\"tag1\", \"tag2\"],\n  \"resourceType\": \"image\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/upload/signature",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "upload",
                                "signature"
                            ]
                        }
                    },
                    "response": []
                }
            ]
        }
    ]
}